---
import { type CollectionEntry, getCollection, render } from "astro:content";
import Layout from "../layouts/Layout.astro";

export async function getStaticPaths() {
  const catSources = await getCollection("categories");
  const categories = catSources?.[0].data;
  return categories.map((c) => ({
    params: { category: c.slug },
    props: c,
  }));
}

const c = Astro.props;
const categorySlug = Astro.params.category;
---

<Layout>
  <div class='p-10 flex flex-col items-center justify-center'>
    <h1 class='text-2xl'>{c.title} Index</h1>
    <div class='py-4'>slug: {categorySlug}</div>
  </div>
</Layout>
